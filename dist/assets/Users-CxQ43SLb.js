import{J as h,V as w,_ as j,j as e,K as m,l as c,d as g}from"./index-dMgldkYN.js";import{F as b,a,I as t}from"./FormRow-DlLRnZDI.js";import{u as P}from"./index.esm-CPCe-N0C.js";function S(){const{isPending:i,mutate:l}=h({mutationFn:({fullName:d,email:o,password:u})=>w(o,u,d),onSuccess:d=>j.success("Account successfully created! Please verify your email!")});return{signupUser:l,isPending:i}}function y(){const{register:i,handleSubmit:l,reset:d,getValues:o,formState:u}=P(),{errors:s}=u,{isPending:n,signupUser:p}=S();function f(r){p({email:r.email,password:r.password,fullName:r.fullName},{onSettled:()=>d()})}function x(r){}return e.jsxs(b,{onSubmit:l(f,x),children:[e.jsx(a,{label:"fullName",text:"Full Name",error:s==null?void 0:s.fullName,children:e.jsx(t,{id:"fullName",disabled:n,...i("fullName",{required:"This field is required"})})}),e.jsx(a,{label:"email",text:"Email Address",error:s==null?void 0:s.email,children:e.jsx(t,{id:"email",type:"email",disabled:n,...i("email",{required:"This field is required",pattern:{value:/\S+@\S+\.\S+/,message:"Please provide a valid email address!"}})})}),e.jsx(a,{label:"password",text:"Password (min. 6 characters)",error:s==null?void 0:s.password,children:e.jsx(t,{id:"password",type:"password",disabled:n,...i("password",{required:"This field is required",minLength:{value:6,message:"Minimum password length is 6!"}})})}),e.jsx(a,{label:"confirmPassword",text:"Confirm Password",error:s==null?void 0:s.confirmPassword,children:e.jsx(t,{id:"confirmPassword",type:"password",disabled:n,...i("confirmPassword",{required:"This field is required",validate:r=>o().password===r?!0:"Passwords don't match!"})})}),e.jsxs(a,{children:[e.jsx(m,{variation:"secondary",type:"reset",children:"Reset"}),e.jsx(m,{type:"submit",children:"Add user"})]})]})}function N(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{type:"horizontal",children:e.jsx(g,{as:"h1",children:"Create new user"})}),e.jsx(c,{children:e.jsx(y,{})})]})}export{N as default};
